{"ast":null,"code":"import { FormGroup, FormControl } from '@angular/forms';\nimport { Emitters } from '../emitters/emitters';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"ngx-cookie-service\";\nimport * as i4 from \"@angular/forms\";\nlet AddProductComponent = /*#__PURE__*/(() => {\n  class AddProductComponent {\n    constructor(http, router, cookieService) {\n      this.http = http;\n      this.router = router;\n      this.cookieService = cookieService;\n      this.productForm = new FormGroup({\n        productName: new FormControl(''),\n        shortDescription: new FormControl(''),\n        detailedDescription: new FormControl(''),\n        category: new FormControl(''),\n        startingPrice: new FormControl(''),\n        bidEndDate: new FormControl(''),\n        sellerEmailId: new FormControl('')\n      });\n      this.productForm.patchValue({\n        sellerEmailId: `${this.cookieService.get('username')}`\n      });\n    }\n    onSubmit() {\n      // TODO: Use EventEmitter with form value\n      this.http.post(\"http://localhost:44397/e-auction/api/v1/seller/add-product\", this.productForm.value).subscribe(res => {\n        Emitters.authEmitter.emit(true);\n        this.router.navigate(['/']);\n      }, err => {\n        console.log(err);\n        Emitters.authEmitter.emit(false);\n        this.cookieService.delete('username');\n        this.cookieService.delete('jwtToken');\n      });\n    }\n    static #_ = this.ɵfac = function AddProductComponent_Factory(t) {\n      return new (t || AddProductComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.CookieService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AddProductComponent,\n      selectors: [[\"app-add-product\"]],\n      decls: 38,\n      vars: 2,\n      consts: [[\"routerLink\", \"/\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"h3\", \"mb-3\", \"fw-normal\"], [1, \"form-floating\"], [\"formControlName\", \"productName\", \"type\", \"text\", \"id\", \"productName\", \"name\", \"productName\", \"placeholder\", \"Product Name\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"productName\"], [\"formControlName\", \"shortDescription\", \"type\", \"text\", \"id\", \"shortDescription\", \"name\", \"shortDescription\", \"placeholder\", \"Short Description\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"shortDescription\"], [\"formControlName\", \"detailedDescription\", \"type\", \"text\", \"id\", \"detailedDescription\", \"name\", \"detailedDescription\", \"placeholder\", \"Detailed Description\", \"required\", \"\", 1, \"form-control\", 2, \"height\", \"107px\"], [\"for\", \"detailedDescription\"], [\"formControlName\", \"category\", \"type\", \"text\", \"id\", \"category\", \"name\", \"category\", \"placeholder\", \"Category\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"category\"], [\"formControlName\", \"startingPrice\", \"type\", \"number\", \"id\", \"startingPrice\", \"name\", \"startingPrice\", \"placeholder\", \"Starting Price\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"startingPrice\"], [\"formControlName\", \"bidEndDate\", \"type\", \"date\", \"id\", \"bidEndDate\", \"name\", \"bidEndDate\", \"placeholder\", \"Bid EndDate\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"bidEndDate\"], [\"type\", \"submit\", 1, \"w-100\", \"btn\", \"btn-lg\", \"btn-primary\", 3, \"disabled\"]],\n      template: function AddProductComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"p\");\n          i0.ɵɵtext(1, \"add-product works!\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(2, \"hr\");\n          i0.ɵɵelementStart(3, \"div\")(4, \"a\", 0);\n          i0.ɵɵtext(5, \"back to list\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(6, \"hr\");\n          i0.ɵɵelementStart(7, \"form\", 1);\n          i0.ɵɵlistener(\"ngSubmit\", function AddProductComponent_Template_form_ngSubmit_7_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(8, \"h1\", 2);\n          i0.ɵɵtext(9, \"Add Product\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"div\", 3);\n          i0.ɵɵelement(11, \"input\", 4);\n          i0.ɵɵelementStart(12, \"label\", 5);\n          i0.ɵɵtext(13, \"Product Name\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(14, \"div\", 3);\n          i0.ɵɵelement(15, \"input\", 6);\n          i0.ɵɵelementStart(16, \"label\", 7);\n          i0.ɵɵtext(17, \"Short Description\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(18, \"div\", 3);\n          i0.ɵɵelement(19, \"textarea\", 8);\n          i0.ɵɵelementStart(20, \"label\", 9);\n          i0.ɵɵtext(21, \"Detailed Description\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(22, \"div\", 3);\n          i0.ɵɵelement(23, \"input\", 10);\n          i0.ɵɵelementStart(24, \"label\", 11);\n          i0.ɵɵtext(25, \"category\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(26, \"div\", 3);\n          i0.ɵɵelement(27, \"input\", 12);\n          i0.ɵɵelementStart(28, \"label\", 13);\n          i0.ɵɵtext(29, \"Starting Price\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(30, \"div\", 3);\n          i0.ɵɵelement(31, \"input\", 14);\n          i0.ɵɵelementStart(32, \"label\", 15);\n          i0.ɵɵtext(33, \"Bid EndDate\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(34, \"p\");\n          i0.ɵɵtext(35, \"Complete the form to enable button.\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(36, \"button\", 16);\n          i0.ɵɵtext(37, \"Add Product\");\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"formGroup\", ctx.productForm);\n          i0.ɵɵadvance(29);\n          i0.ɵɵproperty(\"disabled\", !ctx.productForm.valid);\n        }\n      },\n      dependencies: [i2.RouterLink, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.FormGroupDirective, i4.FormControlName],\n      styles: [\"input[_ngcontent-%COMP%]{margin:3% 0%}\"]\n    });\n  }\n  return AddProductComponent;\n})();\nexport { AddProductComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}